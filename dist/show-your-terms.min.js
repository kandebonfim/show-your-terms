/*! show-your-terms - Kande Bonfim <kandebonfim@gmail.com> - 2016-08-11 */
(function(){this.ShowYourTerms=function(){function a(a,b,c){var d,e,f,g,h,i,j;this.container=a,this.replay=null!=b?b:!0,this.termsOptions=null!=c?c:{},d={single:!1,pauseOnClick:!0};for(g in d)j=d[g],g in this.termsOptions||(this.termsOptions[g]=j);if(this.container.nodeType||(this.container=document.querySelectorAll(this.container)),this.content=[],this.sstatus=[],this.outputIndex=[],this.container.length>0)for(i=this.container.length-1,this.termsOptions.single&&(i=0),e=f=0,h=i;h>=0?h>=f:f>=h;e=h>=0?++f:--f)this.content[e]=[],this.sstatus[e]="ready",this.defineEvents(e),this.container[e].innerText.length>0&&this.declarativeBuilder(e)}return a.prototype.declarativeBuilder=function(a){var b,c,d,e;for(e=this.container[a].children,c=0,d=e.length;d>c;c++)b=e[c],this.content[a].push([b.getAttribute("data-action"),b.innerText,{styles:b.classList,delay:b.getAttribute("data-delay"),speed:b.getAttribute("data-speed")}]);return this.container[a].style.minHeight=window.getComputedStyle(this.container[a],null).getPropertyValue("height"),this.play(a)},a.prototype.defineEvents=function(a){return this.termsOptions.pauseOnClick?this.container[a].addEventListener("click",function(b){return function(){return b.togglePause(a)}}(this)):void 0},a.prototype.addCommand=function(a,b,c){return null==c&&(c=0),c<this.content.length?this.content[c].push(["command",a,b]):void 0},a.prototype.addLine=function(a,b,c){return null==c&&(c=0),c<this.content.length?this.content[c].push(["line",a,b]):void 0},a.prototype.play=function(a){return null==a&&(a=0),"ready"===this.sstatus[a]?(this.sstatus[a]="playing",this.container[a].innerHTML="",this.outputIndex[a]=0,this.outputGenerator(this.content[a][this.outputIndex[a]],a)):void 0},a.prototype.playagain=function(a){return null==a&&(a=0),this.sstatus[a]="ready",this.play(a)},a.prototype.callNextOutput=function(a,b){return this.outputIndex[b]+=1,this.content[b][this.outputIndex[b]]?setTimeout(function(a){return function(){return a.outputGenerator(a.content[b][a.outputIndex[b]],b)}}(this),a):this.replay?setTimeout(function(a){return function(){return a.playagain(b)}}(this),a):void 0},a.prototype.isPlaying=function(a){return"playing"===this.sstatus[a]},a.prototype.togglePause=function(a){return"playing"===this.sstatus[a]?this.sstatus[a]="pause":"pause"===this.sstatus[a]?this.sstatus[a]="playing":void 0},a.prototype.outputGenerator=function(a,b){var c,d,e,f,g,h,i,j;return j=a[0],c=a[1],g=a[2],e=document.createElement("div"),g.styles&&e.setAttribute("class",g.styles),i=g.speed?g.speed:100,e.classList.add("active"),"command"===j?(e.classList.contains("type")||e.classList.add("command"),d=0,f=setInterval(function(a){return function(){return a.isPlaying(b)&&(e.appendChild(document.createTextNode(c[d])),a.container[b].appendChild(e),d++,d===c.length)?(e.classList.remove("active"),a.callNextOutput(g.delay,b),clearInterval(f)):void 0}}(this),i)):this.isPlaying(b)?(e.appendChild(document.createTextNode(c)),this.container[b].appendChild(e),e.classList.remove("active"),this.callNextOutput(g.delay,b)):h=setInterval(function(a){return function(){return a.isPlaying(b)?(clearInterval(h),a.callNextOutput(g.delay,b)):void 0}}(this),i)},a}()}).call(this);